"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[604],{9604:(e,n,t)=>{t.r(n),t.d(n,{Terminal:()=>s,useTerminal:()=>m});var r=t(5155),l=t(2115),o=t(5318),i=t(4326),c=t(3478),a=t(9829);t(729);var d=t(5704);function s(e){let{onData:n,className:t=""}=e,s=(0,l.useRef)(null),m=(0,l.useRef)(null),u=(0,l.useRef)(null),w=(0,l.useRef)(null),[b,f]=(0,l.useState)(!1),[x,h]=(0,l.useState)(null);return(0,l.useEffect)(()=>{if(!s.current||m.current)return;let e=new o.Terminal({cursorBlink:!0,fontSize:14,fontFamily:'Menlo, Monaco, "Courier New", monospace',theme:{background:"#1e1e1e",foreground:"#d4d4d4",cursor:"#d4d4d4",black:"#000000",red:"#cd3131",green:"#0dbc79",yellow:"#e5e510",blue:"#2472c8",magenta:"#bc3fbc",cyan:"#11a8cd",white:"#e5e5e5",brightBlack:"#666666",brightRed:"#f14c4c",brightGreen:"#23d18b",brightYellow:"#f5f543",brightBlue:"#3b8eea",brightMagenta:"#d670d6",brightCyan:"#29b8db",brightWhite:"#e5e5e5"},allowProposedApi:!0}),t=new i.FitAddon,r=new c.WebLinksAddon;e.loadAddon(t),e.loadAddon(r),e.open(s.current),t.fit(),m.current=e,u.current=t,e.writeln("\x1b[1;34mClaude Code UI Terminal\x1b[0m"),e.writeln("Connecting to terminal server..."),e.writeln("");let l=(0,a.io)("/terminal",{transports:["websocket","polling"],reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:10,timeout:1e4});w.current=l,l.on("connect",()=>{var n;f(!0),h(null),e.writeln("\x1b[32m✓ Connected to terminal server\x1b[0m"),l.emit("create-terminal",{cols:e.cols,rows:e.rows,shell:d.env.SHELL||"/bin/bash",cwd:(null==(n=d.cwd)?void 0:n.call(d))||d.env.HOME||"/tmp"})}),l.on("disconnect",n=>{f(!1),e.writeln("\r\n\x1b[31m✗ Disconnected: ".concat(n,"\x1b[0m")),e.writeln("\x1b[33m⟳ Reconnecting...\x1b[0m")}),l.on("connect_error",n=>{h(n.message),e.writeln("\r\n\x1b[31m✗ Connection error: ".concat(n.message,"\x1b[0m"))}),l.on("terminal-created",n=>{e.writeln("\x1b[36mShell:\x1b[0m ".concat(n.shell)),e.writeln("\x1b[36mCWD:\x1b[0m ".concat(n.cwd)),e.writeln("\x1b[36mPlatform:\x1b[0m ".concat(n.platform," (").concat(n.arch,")")),e.writeln("")}),l.on("terminal-output",n=>{e.write(n)}),l.on("terminal-exit",n=>{let{code:t}=n;e.writeln("\r\n\x1b[33m⚠ Terminal exited with code ".concat(t,"\x1b[0m")),e.writeln("\x1b[33mReconnect to start a new session\x1b[0m")}),l.on("terminal-error",n=>{let{message:t}=n;e.writeln("\r\n\x1b[31m✗ Error: ".concat(t,"\x1b[0m")),h(t)}),l.on("terminal-resized",e=>{let{cols:n,rows:t}=e}),e.onData(e=>{l.connected&&l.emit("terminal-input",e),n&&n(e)});let b=()=>{t.fit(),l.connected&&l.emit("terminal-resize",{cols:e.cols,rows:e.rows})};return window.addEventListener("resize",b),window.__terminal={write:n=>e.write(n),writeln:n=>e.writeln(n),clear:()=>e.clear(),fit:()=>t.fit(),connected:()=>l.connected},()=>{window.removeEventListener("resize",b),l.connected&&(l.emit("kill-terminal"),l.disconnect()),e.dispose(),m.current=null,u.current=null,w.current=null}},[n]),(0,r.jsxs)("div",{className:"terminal-container relative h-full w-full ".concat(t),children:[(0,r.jsxs)("div",{className:"absolute left-4 top-2 z-10 flex items-center gap-2 rounded-md bg-gray-800/80 px-3 py-1.5 text-xs backdrop-blur-sm",children:[(0,r.jsx)("div",{className:"h-2 w-2 rounded-full transition-colors ".concat(b?"bg-green-500 shadow-green-500/50":"bg-red-500 shadow-red-500/50"," shadow-lg")}),(0,r.jsx)("span",{className:"text-gray-300",children:b?"Connected":x?"Error: ".concat(x):"Connecting..."})]}),(0,r.jsx)("div",{ref:s,className:"h-full w-full pt-10"})]})}function m(){let e=window.__terminal;return{write:n=>null==e?void 0:e.write(n),writeln:n=>null==e?void 0:e.writeln(n),clear:()=>null==e?void 0:e.clear(),fit:()=>null==e?void 0:e.fit(),connected:()=>{var n;return null!=(n=null==e?void 0:e.connected())&&n}}}}}]);