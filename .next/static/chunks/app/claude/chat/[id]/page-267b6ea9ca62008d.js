(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6],{1030:(e,n,s)=>{Promise.resolve().then(s.bind(s,2587))},2587:(e,n,s)=>{"use strict";s.r(n),s.d(n,{default:()=>A});var t=s(5155),a=s(2115),i=s(63),r=s(3083),o=s(6948),c=s(3998),l=s(7037),d=s(1647),u=s(4269);let m=a.forwardRef((e,n)=>{let{className:s,...a}=e;return(0,t.jsx)("textarea",{className:(0,u.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:n,...a})});m.displayName="Textarea";var p=s(6154),h=s(9559),f=s(8192),x=s(508),y=s(5426),g=s(5276),j=s(9745),v=s(5299),w=s(8085);function N(e){let{session:n,onSessionUpdate:s}=e,[i,r]=(0,a.useState)(n.messages||[]),[u,N]=(0,a.useState)(""),[D,b]=(0,a.useState)(!1),[A,C]=(0,a.useState)(!1),S=(0,a.useRef)(null);(0,a.useEffect)(()=>{r(n.messages||[])},[n]),(0,a.useEffect)(()=>{k()},[i]);let k=()=>{var e;null==(e=S.current)||e.scrollIntoView({behavior:"smooth"})},$=async()=>{if(!u.trim()||D)return;let e={id:Date.now().toString(),role:"user",content:u,timestamp:new Date};r(n=>[...n,e]),N(""),b(!0);try{await fetch("/api/sessions/".concat(n.id,"/messages"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:"user",content:u})}),await new Promise(e=>setTimeout(e,2e3));let e={id:(Date.now()+1).toString(),role:"assistant",content:I(u),timestamp:new Date,metadata:{tokens:Math.floor(1e3*Math.random())+500,model:n.settings.model,tools:["fd","ripgrep","ast-grep","jq","yq"]}};r(n=>[...n,e]),await fetch("/api/sessions/".concat(n.id,"/messages"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:"assistant",content:e.content,metadata:e.metadata})})}catch(n){let e={id:(Date.now()+1).toString(),role:"assistant",content:"Sorry, I encountered an error. Please try again.",timestamp:new Date};r(n=>[...n,e])}finally{b(!1)}},I=e=>{let n=e.toLowerCase();return n.includes("v0")||n.includes("generate")||n.includes("component")?'I can help you generate components using v0! Here\'s what I can do:\n\n\uD83D\uDE80 **v0 Integration Features:**\n- Generate React components with Tailwind CSS\n- Create full pages and layouts\n- Deploy directly to Vercel\n- Integrate with your existing codebase\n\n```typescript\n// Example: Generate a modern card component\nconst request = {\n  prompt: "Create a modern card component with hover effects",\n  framework: "react",\n  style: "tailwind"\n}\n\n// I can call v0 API to generate this for you\n```\n\nWould you like me to:\n1. Generate a specific component?\n2. Create a full page layout?\n3. Deploy your project to Vercel?\n4. Integrate with your existing codebase?\n\nJust describe what you need and I\'ll use v0 to create it!':n.includes("file")||n.includes("fd")?'I can help you with advanced file operations using fd! Here\'s what I can do:\n\n\uD83D\uDCC1 **File Discovery with fd:**\n```bash\n# Find all TypeScript files in your project\nfd --type f --extension ts --extension tsx\n\n# Find components by pattern\nfd "component" src/components --type f\n\n# Get file statistics\nfd . src --type f | wc -l\n```\n\n\uD83D\uDD0D **Advanced fd Patterns:**\n- Case-insensitive search: `fd -i "component"`\n- Exclude directories: `fd --exclude node_modules`\n- Find by modification time: `fd --changed-within 1day`\n\nI can analyze your project structure and help you find exactly what you need!':n.includes("search")||n.includes("grep")||n.includes("ripgrep")?'ripgrep is perfect for powerful code searching! Here are advanced patterns:\n\n\uD83D\uDD0D **Advanced ripgrep Commands:**\n```bash\n# Search for React hooks with context\nrg "use[A-Z][a-zA-Z]*" --glob "*.{ts,tsx}" -A 2 -B 2\n\n# Find function definitions\nrg "^(export )?function|^(export )?const.*=" --glob "*.{ts,tsx}"\n\n# Search with file type filtering\nrg "import.*from" --type ts --type tsx\n```\n\n\uD83C\uDFAF **Smart Search Patterns:**\n- Multi-line patterns: `rg -U "function.*\\{[\\s\\S]*?\\}"`\n- Exclude test files: `rg "pattern" --glob "!*.test.*"`\n- Search in specific directories: `rg "pattern" src/components`\n\nI can help you find complex patterns across your entire codebase!':n.includes("ast")||n.includes("ast-grep")?"AST analysis is incredibly powerful for understanding code structure! Here's how I can help:\n\n\uD83C\uDF33 **AST-Grep for Code Analysis:**\n```bash\n# Find all React components\nast-grep --lang typescript --pattern 'const $NAME = () => { $$$BODY }'\n\n# Find useEffect hooks\nast-grep --lang typescript --pattern 'useEffect($$$ARGS, $$$DEPS)'\n\n# Find function calls with specific patterns\nast-grep --lang typescript --pattern '$FUNC($$$ARGS)'\n```\n\n\uD83D\uDD27 **Advanced AST Patterns:**\n- Find components with props: `ast-grep --pattern 'const $NAME = ({ $$$PROPS }) =>'`\n- Find async functions: `ast-grep --pattern 'async function $NAME'`\n- Find imports: `ast-grep --pattern 'import $$$ from \"$MODULE\"'`\n\nI can analyze your code structure and help with refactoring!":n.includes("json")||n.includes("jq")?"jq is excellent for JSON processing and API data! Here's what I can do:\n\n\uD83D\uDCC4 **JSON Processing with jq:**\n```bash\n# Extract package.json dependencies\njq '.dependencies | keys[]' package.json\n\n# Count dependencies\njq '.dependencies | length' package.json\n\n# Transform API responses\njq '{name: .name, version: .version, deps: (.dependencies | length)}' package.json\n```\n\n\uD83D\uDD04 **Advanced jq Operations:**\n- Filter arrays: `jq '.items[] | select(.status == \"active\")'`\n- Group data: `jq 'group_by(.category) | map({category: .[0].category, count: length})'`\n- Stream processing: `jq --stream 'select(.[0][-1] == \"name\")'`\n\nI can help you process any JSON data efficiently!":n.includes("yaml")||n.includes("yq")?"yq handles YAML files beautifully! Here's how I can help:\n\n\uD83D\uDCCB **YAML Processing with yq:**\n```bash\n# Extract configuration values\nyq '.features[]' config.yaml\n\n# Get enabled integrations\nyq '.integrations | to_entries[] | select(.value == true) | .key' config.yaml\n\n# Convert YAML to JSON\nyq -o=json . config.yaml\n```\n\n⚙️ **Configuration Management:**\n- Update values: `yq '.version = \"2.0.0\"' config.yaml`\n- Merge configurations: `yq '. * load(\"override.yaml\")' config.yaml`\n- Validate schemas: `yq 'select(has(\"required_fields\"))' config.yaml`\n\nI can help you manage complex YAML configurations!":'Hello! I\'m Claude, your advanced AI coding assistant with powerful development tools integration! \uD83D\uDE80\n\n**My Capabilities:**\n\uD83D\uDD27 **File Operations**: fd for lightning-fast file discovery\n\uD83D\uDD0D **Code Search**: ripgrep for advanced text search patterns  \n\uD83C\uDF33 **AST Analysis**: ast-grep for structural code understanding\n\uD83D\uDCC4 **JSON Processing**: jq for data manipulation and API responses\n\uD83D\uDCCB **YAML Management**: yq for configuration files\n\uD83C\uDFA8 **v0 Integration**: Generate and deploy components with Vercel\n\n**What I can help you with:**\n- Analyze your codebase structure\n- Generate React components with v0\n- Search and refactor code\n- Process configuration files\n- Deploy projects to Vercel\n- Debug and optimize code\n- Set up development workflows\n\n**Try asking me:**\n- "Generate a modern dashboard component with v0"\n- "Find all React hooks in my codebase"\n- "Analyze the structure of my components"\n- "Process my package.json dependencies"\n- "Deploy this project to Vercel"\n\nWhat would you like to work on today? \uD83C\uDFAF'},E=async()=>{try{await fetch("/api/sessions/".concat(n.id,"/messages"),{method:"DELETE"}),r([])}catch(e){}},F=async()=>{if(u.trim()){C(!0);try{let e=await fetch("/api/v0/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:u,context:"Session: ".concat(n.name,"\nMessages: ").concat(i.length),framework:"react",style:"tailwind"})});if(e.ok){let n=await e.json(),s={id:Date.now().toString(),role:"assistant",content:"\uD83C\uDFA8 **Generated with v0!**\n\n```tsx\n".concat(n.result.code,"\n```\n\n**Components:** ").concat(n.result.components.length,"\n**Dependencies:** ").concat(n.result.dependencies.join(", ")),timestamp:new Date,metadata:{tokens:0,model:"v0-generator",tools:["v0"]}};r(e=>[...e,s]),N("")}}catch(e){}finally{C(!1)}}};return(0,t.jsxs)("div",{className:"flex flex-col h-full space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:n.name}),(0,t.jsx)("p",{className:"text-muted-foreground",children:n.description||"Claude AI Coding Assistant"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(d.E,{variant:"secondary",className:"flex items-center space-x-1",children:[(0,t.jsx)(p.A,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:n.settings.model})]}),(0,t.jsxs)(c.$,{variant:"outline",size:"sm",onClick:E,children:[(0,t.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Clear"]})]})]}),(0,t.jsx)(o.Zp,{className:"flex-1",children:(0,t.jsx)(o.Wu,{className:"p-0",children:(0,t.jsx)(l.F,{className:"h-96 p-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[i.map(e=>{var n,s;return(0,t.jsxs)("div",{className:"flex items-start space-x-3 ".concat("user"===e.role?"justify-end":"justify-start"),children:["assistant"===e.role&&(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:(0,t.jsx)(f.A,{className:"h-4 w-4 text-primary-foreground"})})}),(0,t.jsxs)("div",{className:"max-w-3xl p-4 rounded-lg ".concat("user"===e.role?"bg-primary text-primary-foreground":"bg-muted"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:["user"===e.role?(0,t.jsx)(x.A,{className:"h-4 w-4"}):(0,t.jsx)(f.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"user"===e.role?"You":"Claude"}),(null==(n=e.metadata)?void 0:n.tools)&&(0,t.jsx)(d.E,{variant:"outline",className:"text-xs",children:e.metadata.tools.join(", ")})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(c.$,{variant:"ghost",size:"sm",onClick:()=>{var n;return n=e.content,void navigator.clipboard.writeText(n)},children:(0,t.jsx)(y.A,{className:"h-3 w-3"})}),"assistant"===e.role&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.$,{variant:"ghost",size:"sm",children:(0,t.jsx)(g.A,{className:"h-3 w-3"})}),(0,t.jsx)(c.$,{variant:"ghost",size:"sm",children:(0,t.jsx)(j.A,{className:"h-3 w-3"})})]})]})]}),(0,t.jsx)("div",{className:"prose prose-sm max-w-none",children:e.content.split("```").map((e,n)=>{if(n%2==1){let[s,...a]=e.split("\n");return(0,t.jsx)("pre",{className:"bg-background p-3 rounded text-sm overflow-x-auto border",children:(0,t.jsx)("code",{className:"language-".concat(s||"bash"),children:a.join("\n")})},n)}return(0,t.jsx)("p",{className:"whitespace-pre-wrap",children:e},n)})}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-2 text-xs text-muted-foreground",children:[(0,t.jsx)("span",{children:e.timestamp.toLocaleTimeString()}),(null==(s=e.metadata)?void 0:s.tokens)&&(0,t.jsxs)("span",{children:[e.metadata.tokens," tokens"]})]})]}),"user"===e.role&&(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"w-8 h-8 bg-secondary rounded-full flex items-center justify-center",children:(0,t.jsx)(x.A,{className:"h-4 w-4"})})})]},e.id)}),D&&(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:(0,t.jsx)(f.A,{className:"h-4 w-4 text-primary-foreground animate-pulse"})})}),(0,t.jsx)("div",{className:"bg-muted p-4 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("div",{className:"flex space-x-1",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce"}),(0,t.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,t.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Claude is thinking..."})]})})]}),(0,t.jsx)("div",{ref:S})]})})})}),(0,t.jsx)(o.Zp,{children:(0,t.jsx)(o.Wu,{className:"pt-4",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-end space-x-2",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(m,{placeholder:"Ask me anything about development, code generation, or use v0 to create components...",value:u,onChange:e=>N(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),$())},disabled:D||A,className:"min-h-[80px] resize-none"})}),(0,t.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,t.jsx)(c.$,{onClick:$,disabled:!u.trim()||D||A,size:"lg",children:D?(0,t.jsx)(v.A,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(w.A,{className:"h-4 w-4"})}),(0,t.jsx)(c.$,{onClick:F,disabled:!u.trim()||D||A,variant:"outline",size:"sm",children:A?(0,t.jsx)(v.A,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(p.A,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,t.jsx)("span",{children:'Try: "Generate a card component with v0" or "Find all React hooks"'}),(0,t.jsx)("span",{children:"Enter to send • Shift+Enter for new line"})]})]})})})]})}function D(e){let{className:n,size:s="md"}=e;return(0,t.jsx)("div",{className:(0,u.cn)("animate-spin rounded-full border-2 border-muted border-t-primary",{sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"}[s],n)})}var b=s(5626);function A(){let e=(0,i.useParams)(),n=(0,i.useRouter)(),[s,o]=(0,a.useState)(null),[l,d]=(0,a.useState)(!0),u=(0,a.useCallback)(async e=>{try{let s=await fetch("/api/sessions/".concat(e));if(s.ok){let e=await s.json();o(e.session)}else n.push("/claude")}catch(e){n.push("/claude")}finally{d(!1)}},[n]);return((0,a.useEffect)(()=>{e.id&&u(e.id)},[e.id,u]),l)?(0,t.jsx)(r.MainLayout,{children:(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)(D,{})})}):s?(0,t.jsx)(r.MainLayout,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)(c.$,{variant:"outline",onClick:()=>n.push("/claude"),children:[(0,t.jsx)(b.A,{className:"h-4 w-4 mr-2"}),"Back to Sessions"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:s.name}),(0,t.jsx)("p",{className:"text-muted-foreground",children:s.description||"Claude AI Coding Assistant"})]})]}),(0,t.jsx)(N,{session:s,onSessionUpdate:o})]})}):(0,t.jsx)(r.MainLayout,{children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Session not found"}),(0,t.jsxs)(c.$,{onClick:()=>n.push("/claude"),children:[(0,t.jsx)(b.A,{className:"h-4 w-4 mr-2"}),"Back to Sessions"]})]})})}}},e=>{e.O(0,[96,948,358],()=>e(e.s=1030)),_N_E=e.O()}]);