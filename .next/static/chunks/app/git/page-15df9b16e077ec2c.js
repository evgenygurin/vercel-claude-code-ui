(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[393],{1378:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>N});var t=a(5155),n=a(3083),i=a(2115),c=a(6948),r=a(3998),l=a(1647),d=a(7037),h=a(6191),x=a(9715),m=a(5229),o=a(9332),j=a(9559),u=a(5917),p=a(3924),g=a(8500);function f(){let[e,s]=(0,i.useState)({branch:"main",ahead:0,behind:0,changes:[]}),[a,n]=(0,i.useState)([]),[f,N]=(0,i.useState)(!1),y=async()=>{N(!0);try{let e=await fetch("/api/git/status");if(e.ok){let a=await e.json();s(a.status)}}catch(e){}finally{N(!1)}},v=async()=>{try{let e=await fetch("/api/git/log");if(e.ok){let s=await e.json();n(s.commits)}}catch(e){}},b=async e=>{try{await fetch("/api/git/stage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:e})}),y()}catch(e){}},w=async e=>{try{await fetch("/api/git/unstage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:e})}),y()}catch(e){}};return(0,i.useEffect)(()=>{y(),v()},[]),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(c.Zp,{children:[(0,t.jsx)(c.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(o.A,{className:"h-5 w-5"}),"Git Status"]}),(0,t.jsxs)(c.BT,{children:["Current branch: ",(0,t.jsx)(l.E,{variant:"outline",children:e.branch})]})]}),(0,t.jsx)(r.$,{variant:"outline",size:"sm",onClick:y,disabled:f,children:(0,t.jsx)(j.A,{className:"h-4 w-4 ".concat(f?"animate-spin":"")})})]})}),(0,t.jsxs)(c.Wu,{children:[(0,t.jsxs)("div",{className:"flex gap-4 mb-4",children:[e.ahead>0&&(0,t.jsxs)(l.E,{variant:"default",children:["↑ ",e.ahead," ahead"]}),e.behind>0&&(0,t.jsxs)(l.E,{variant:"secondary",children:["↓ ",e.behind," behind"]}),0===e.changes.length&&(0,t.jsxs)(l.E,{variant:"outline",className:"text-green-600",children:[(0,t.jsx)(u.A,{className:"h-3 w-3 mr-1"}),"Clean working directory"]})]}),e.changes.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-medium text-sm mb-2",children:"Changes:"}),(0,t.jsx)(d.F,{className:"h-[300px]",children:e.changes.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 rounded hover:bg-muted",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(e=>{switch(e){case"added":return(0,t.jsx)(h.A,{className:"h-4 w-4 text-green-500"});case"modified":return(0,t.jsx)(x.A,{className:"h-4 w-4 text-yellow-500"});case"deleted":return(0,t.jsx)(m.A,{className:"h-4 w-4 text-red-500"});default:return(0,t.jsx)(x.A,{className:"h-4 w-4 text-gray-500"})}})(e.status),(0,t.jsx)("span",{className:"text-sm font-mono",children:e.path}),e.staged&&(0,t.jsx)(l.E,{variant:"outline",className:"text-xs",children:"staged"})]}),(0,t.jsx)(r.$,{variant:"ghost",size:"sm",onClick:()=>e.staged?w(e.path):b(e.path),children:e.staged?"Unstage":"Stage"})]},s))})]})]})]}),(0,t.jsxs)(c.Zp,{children:[(0,t.jsxs)(c.aR,{children:[(0,t.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(p.A,{className:"h-5 w-5"}),"Recent Commits"]}),(0,t.jsxs)(c.BT,{children:["Latest commits on ",e.branch]})]}),(0,t.jsx)(c.Wu,{children:(0,t.jsx)(d.F,{className:"h-[400px]",children:(0,t.jsx)("div",{className:"space-y-4",children:a.map((e,s)=>(0,t.jsxs)("div",{className:"flex gap-4 p-3 rounded border border-border hover:bg-muted transition-colors",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:(0,t.jsx)(g.A,{className:"h-4 w-4 text-primary"})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium truncate",children:e.message}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[(0,t.jsx)("span",{children:e.author}),(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{children:e.date})]}),(0,t.jsx)("code",{className:"text-xs text-muted-foreground mt-1 block",children:e.hash})]})]},s))})})})]})]})}function N(){return(0,t.jsx)(n.MainLayout,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[(0,t.jsx)(o.A,{className:"h-8 w-8"}),"Git Repository"]}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Manage your git repository, view changes, and commit files"})]}),(0,t.jsx)(f,{})]})})}},4153:(e,s,a)=>{Promise.resolve().then(a.bind(a,1378))}},e=>{e.O(0,[96,948,358],()=>e(e.s=4153)),_N_E=e.O()}]);